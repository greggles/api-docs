<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/x-icon">
    <title>Q2 Biller Direct API</title>
    <meta name="description" content="API for bill payments. Rent, electric, phone, loan, tv, you name it.">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
    </script>
    <!-- end Mixpanel -->

  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.svg" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img style="width: 70px" src="images/logo.svg" />
        <div class="lang-selector">
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="overview">Overview</h1>

<h2 id="introduction">Introduction</h2>

<blockquote>
<p>API Host</p>
</blockquote>
<pre class="highlight plaintext"><code>https://sb.unbill.co/v1 (sandbox)
https://api.unbill.co/v1 (production)
</code></pre>

<div class="swagger">
  <a href="https://sb.unbill.co/documentation", target="_blank">Test with Swagger</a>
</div>

<blockquote>
<p>Resource URL Patterns</p>
</blockquote>
<pre class="highlight plaintext"><code>/auth
/bill
/company
/payment
/client
</code></pre>

<p>Welcome! The Q2 Biller Direct API allows developers to receive user-authorized bill data and make payments on behalf of a user.</p>

<p>Here you will find information on how to integrate with and use the Q2 Biller Direct API. We&rsquo;ve tried to make this documentation user-friendly and example-filled, but please <a href="mailto:api@unbill.us">drop us a line</a> with any questions. If you&rsquo;re planning to use our API in production, you should take a look at our <a href="http://unbill.us/privacy.html">privacy policy</a>.</p>

<p>The Q2 Biller Direct API uses standard HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">verbs</a> to communicate and HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">response codes</a> to indicate status and errors. All responses come in standard <a href="http://www.json.org/">JSON</a>. The Q2 Biller Direct API is served over HTTPS to ensure data privacy, HTTP is not supported.</p>

<p><img alt="Overview" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/unbill.png" /></p>

<h2 id="gaining-access">Gaining Access</h2>

<p>To gain access to the Q2 Biller Direct API, please <a href="mailto:api@unbill.us">contact us</a>. After our review process is complete, you&rsquo;ll be provided with an API key which you can use for your requests.</p>

          <h2 id="authentication">Authentication</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>  curl <span class="s2">"https://api.unbill.co/v1/auth"</span>
    -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span>
</code></pre>

<p>Authenticate your account when using the API by including your secret API key in the request. Your API keys carry many privileges, so be sure to keep them secret! Do not share your secret API keys in publicly accessible areas such as GitHub, client-side code, and so forth.</p>

<p>Authentication to the API is performed via the <a href="https://oauth.net/2/">OAuth2 Protocol</a>. Pass your API Key as a bearer token in the <code class="prettyprint">Authorization</code> header.</p>

          <h2 id="errors">Errors</h2>

<p>The Q2 Biller Direct API uses conventional HTTP response codes to indicate the success or failure of an API request. In general, codes in the <code class="prettyprint">2xx</code> range indicate success, codes in the <code class="prettyprint">4xx</code> range indicate an error that failed given the information provided (e.g., a required parameter was omitted, a charge failed, etc.), and codes in the <code class="prettyprint">5xx</code> range indicate an error with Q2&rsquo;s servers (these are rare).</p>

<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200 - OK</td>
<td>Everything worked as expected.</td>
</tr>
<tr>
<td>400 - Bad Request</td>
<td>The request was unacceptable, often due to missing a required parameter.</td>
</tr>
<tr>
<td>401 - Unauthorized</td>
<td>No valid API key provided.</td>
</tr>
<tr>
<td>402 - Request Failed</td>
<td>The parameters were valid but the request failed.</td>
</tr>
<tr>
<td>404 - Not Found</td>
<td>The requested resource doesn&rsquo;t exist.</td>
</tr>
<tr>
<td>429 - Too Many Requests</td>
<td>Too many requests hit the API too quickly. We recommend an exponential backoff of your requests.</td>
</tr>
<tr>
<td>500, 502, 503, 504 - Server Errors</td>
<td>Something went wrong on Q2&rsquo;s end. (These are rare.)</td>
</tr>
</tbody></table>

          <h2 id="request-ids">Request IDs</h2>

<p>Each API request has an associated request identifier. You can find this value in the response headers, under <code class="prettyprint">request-id</code>. If you need to contact us about a specific request, providing the request identifier will ensure the fastest possible resolution.</p>

          <h2 id="getting-started">Getting Started</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "clientId": "566595c8ce88ccec69328566",
    "companyId": "56e1dbb5443b10a3bd403fcf",
    "form": {
      "username": "Johnny",
      "password": "Appleseed"
    }
  }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"authId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To authenticate bills with your users, you may use the following flow.</p>

<h3 id="user-creation">User Creation</h3>

<ol>
<li>User signs up in your app.</li>
<li>Make a request to the <code class="prettyprint">/client/create</code> endpoint to retrieve a <code class="prettyprint">clientId</code> to store in your database for future requests.</li>
</ol>

<h3 id="authentication">Authentication</h3>

<ol>
<li>Search for the company you&rsquo;d like to add from the <code class="prettyprint">/company/search</code> endpoint.</li>
<li>Provide your user with a &ldquo;bill authentication&rdquo; view populated with the login fields retrieved from the desired company.</li>
<li>Have your user fill out their credentials, and then send those credentials to the <code class="prettyprint">/auth</code> endpoint.</li>
<li>Q2 will begin the authentication process and if successful, will return available <a href="#auth-items">items</a>.</li>
</ol>

<h3 id="bills">Bills</h3>

<ol>
<li>Requests can be made to the <code class="prettyprint">/bill/list/{clientId}</code> endpoint to retrieve the list of authenticated bills and balance information.</li>
<li>Requests can be made to the <code class="prettyprint">/bill/{billId}</code> endpoint to retrieve details on a specific bill.</li>
</ol>

<h3 id="payments">Payments</h3>

<ol>
<li>Provide your user with a &ldquo;link payment&rdquo; view to choose a payment method.</li>
<li>Link this payment method using the <code class="prettyprint">/payment</code> endpoint.</li>
<li>By default, bills will be paid automatically by using the payment method on file.</li>
<li>To change this, you must make a request to the <code class="prettyprint">/payment/{paymentMethodId}/settings</code> endpoint to disable recurring payments.</li>
<li>When recurring payments are disabled, in order to make an on-demand payment, one must be scheduled via the <code class="prettyprint">/payment/schedule</code> endpoint.</li>
</ol>

          <h1 id="auth">Auth</h1>

<p>Authenticate a user&rsquo;s bill credentials. This process may take anywhere from 5-30 seconds depending on the responsiveness of the company&rsquo;s website. If a <code class="prettyprint">200</code> status code is returned, no additional MFA is required. If a <code class="prettyprint">201</code> status code is returned, additional MFA is required to authenticate with the company and must be submitted via the <code class="prettyprint">/auth/step</code> endpoint.</p>

<p><img alt="Credentials View" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/credentials-view.png" /></p>

          <h2 id="the-auth-object">The auth object</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the auth.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><a href="#auth-status">Status</a> of the auth.</td>
</tr>
<tr>
<td><code class="prettyprint">company</code></td>
<td>Company Object</td>
</tr>
</tbody></table>

          <h2 id="add-an-auth">Add an auth</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "clientId": "566595c8ce88ccec69328566",
    "companyId": "56e1dbb5443b10a3bd403fcf",
    "items": ["bill"],
    "form": {
      "username": "Johnny",
      "password": "Appleseed"
    }
  }'</span>
</code></pre>

<blockquote>
<p>Example 200 Response (Authenticated)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"authId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example 201 Response (Question Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questions"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> 
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the name of your first pet?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bk0zwVx1Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example 201 Response (Code Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t...t@example.com"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"r1g0mvVg1Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email: t...t@example.com"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B1gyVvElJZ"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phone: xxx-xxx-1234"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SkbkEP4ekW"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text: xxx-xxx-1234"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/auth</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>ID of user being authenticated.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>ID of company being authenticated.</td>
</tr>
<tr>
<td><code class="prettyprint">items</code><br><small class="opt">(optional)</small></td>
<td>The list of items you&rsquo;d like attached to this auth. If not specified, all available items will be returned. If you&rsquo;re only interested in verifying credentials, set this parameter as an empty array <code class="prettyprint">[]</code>, otherwise specify which <a href="#auth-items">items</a> you&rsquo;d like.</td>
</tr>
<tr>
<td><code class="prettyprint">form</code></td>
<td>Credentials to authenticate.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of available <code class="prettyprint">items</code> linked to an <code class="prettyprint">auth</code>, or the MFA to be submitted to the <code class="prettyprint">/auth/step</code> endpoint.</p>

          <h2 id="auth-flow">Auth flow</h2>

<p>The authentication flow may vary depending on the company. Below you&rsquo;ll find approaches to test the possible flows within your app. For each flow set <code class="prettyprint">form.password</code> to <code class="prettyprint">test</code>.</p>

<h3 id="basic-auth">Basic Auth</h3>

<p>The most common approach used by companies is a simple username &amp; password combination. To test this set <code class="prettyprint">form.username</code> to <code class="prettyprint">test</code>.</p>

<h3 id="multi-factor-authentication">Multi-factor Authentication</h3>

<p>Some companies require multi-factor authentication (MFA). To test this set <code class="prettyprint">form.username</code> to <code class="prettyprint">testmfaquestions</code> for a question based response or <code class="prettyprint">testmfacode</code> for a code based response. In this response will be provided the <code class="prettyprint">token</code> which you can then submit to the <code class="prettyprint">/auth/step</code> endpoint to complete the authentication.</p>

<h3 id="example-auth-items">Example Auth Items</h3>

<p>An Auth may have various <a href="#auth-items">items</a> linked to it. To test bill items you may set <code class="prettyprint">form.username</code> to <code class="prettyprint">testsyncing</code>, <code class="prettyprint">testupcoming</code>, or <code class="prettyprint">testpaid</code>.</p>

          <h2 id="auth-items">Auth items</h2>

<blockquote>
<p>Example Bill Item</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bill"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>After a successful authentication is made, a list of available <code class="prettyprint">items</code> attached to an auth will be returned for convience. For more details about each of these items, access the items endpoints.
Currently only <code class="prettyprint">bill</code> items are supported, but additional items like <code class="prettyprint">usage</code> and <code class="prettyprint">transactions</code> are coming soon!</p>

          <h2 id="auth-mfa">Auth MFA</h2>

<blockquote>
<p>Example Request (Question Based MFA)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "mfa": [{
      "answer": "Secret Answer",
      "identifier": "Bk0zwVx1Z"
    }],
    "token": "56e1dbb5443b10a3bd403fcf"
  }'</span>
</code></pre>

<blockquote>
<p>Example Request (Code Based MFA)</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "mfa": { 
      "identifier": "ByDXD4eJW" 
    },
    "token": "56e1dbb5443b10a3bd403fcf"
  }'</span>
</code></pre>

<p>Some companies require multi-factor authentication (MFA) and the <code class="prettyprint">/auth/step</code> route is built to submit the additional information needed. Users are first submitted via the standard authenticate process via the <code class="prettyprint">/auth</code> endpoint, and the MFA data is sent through an additional request to the <code class="prettyprint">/auth/step</code> route.</p>

<p>For <code class="prettyprint">questions</code> (Question Based MFA) return the answers formatted as an array of objects, where each object includes the <code class="prettyprint">answer</code> of the question and the <code class="prettyprint">identifier</code> received from the previous <code class="prettyprint">auth</code> response. For <code class="prettyprint">code</code> (Code Based MFA) return the desired option by passing the <code class="prettyprint">identifier</code> field given to you from the previous <code class="prettyprint">auth</code> response. Continue to POST to the <code class="prettyprint">/auth/step</code> with the required answers until a <code class="prettyprint">200</code> status code is returned. At that point the user will be authenticated and you&rsquo;ll have access to available <a href="'#auth-items'">items</a>.</p>

<p><img alt="Credentials MFA View" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/credentials-mfa-view.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/auth/step</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Token provided to you from the <code class="prettyprint">/auth</code> response.</td>
</tr>
<tr>
<td><code class="prettyprint">mfa</code></td>
<td>The extra information needed for MFA authentication.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of available <code class="prettyprint">items</code> linked to an <code class="prettyprint">auth</code>, or any additional MFA to be submitted to the <code class="prettyprint">/auth/step</code> endpoint.</p>

          <h2 id="auth-status">Auth status</h2>

<blockquote>
<p>Verified Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Authenticate Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authenticate"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Hold Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hold"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"userMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You need to login and verify your account information."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"debugMessage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The user has not verified their online account."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>An auth <code class="prettyprint">status.type</code> can be a variety of types. Each type is documented below with a description of the status and a typical use case.</p>

<h3 id="verified">verified</h3>

<p>The user&rsquo;s auth has been verified. No actions are required.</p>

<h3 id="authenticate">authenticate</h3>

<p>The user&rsquo;s credentials no longer work with the company&rsquo;s website and need to be reauthenticated. Make a request to the <code class="prettyprint">/auth</code> endpoint with updated credentials to remove this status.</p>

<p><img alt="Bill Authenticate" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="hold">hold</h3>

<p>For a number of reasons an auth can have the status of <code class="prettyprint">hold</code>. When an auth is on hold we&rsquo;ll present you with a <code class="prettyprint">reason</code> that you in turn can present to your users. To remove this status, the user must take the appropriate action as described in the <code class="prettyprint">reason</code>. This usually involves them needing to login into their online account. Once the user has completed the action, make a request to the <code class="prettyprint">/auth/{authId}/fix-hold</code> endpoint to resume their services.</p>

<p><em>Display hold reason</em></p>

<p><img alt="Bill Hold" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-hold.png" /></p>

<p><em>Displayed after user returns to app</em></p>

<p><img alt="Bill Hold Confirm" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-hold-confirm.png" /></p>

          <h2 id="list-all-auths">List all auths</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth/list/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -G
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Time Warner Cable"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/4c805851c738c006546b234e3c3c793d.png"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authenticate"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Grove at Auburn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/0e9a971a96646da46f5faa68862d0f2d.jpg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves a list of user&rsquo;s auths.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/auth/list/{clientId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>ID of client to retrieve auths for.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A dictionary with a <code class="prettyprint">data</code> property that contains an array of <a href="#the-auth-object">auth objects</a>.</p>

          <h2 id="fix-auth-hold">Fix auth hold</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth/566595c8ce88ccec69328566/fix-hold"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/auth/{authId}/fix-hold</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">authId</code></td>
<td>ID of auth to fix.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the hold was fixed. If the <code class="prettyprint">authId</code> does not exist, this call returns an error.</p>

          <h2 id="delete-auth">Delete auth</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -X DELETE
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes an <code class="prettyprint">auth</code> and all its <code class="prettyprint">items</code> from the account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.unbill.co/v1/auth/{authId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">authId</code></td>
<td>ID of bill to delete.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the auth was deleted. If the <code class="prettyprint">authId</code> does not exist, this call returns an error.</p>

          <h1 id="bill">Bill</h1>

<p>The bill object provides you with up-to-date balance, due date, and payment history for a bill. The API allows you to retrieve, list, and check the status of a user&rsquo;s bills.</p>

          <h2 id="the-bill-object">The bill object</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the bill.</td>
</tr>
<tr>
<td><code class="prettyprint">balance</code></td>
<td>Current bill balance.</td>
</tr>
<tr>
<td><code class="prettyprint">dueDate</code></td>
<td>Current bill due date.</td>
</tr>
<tr>
<td><code class="prettyprint">lastPaidAmount</code></td>
<td>Amount of last payment.</td>
</tr>
<tr>
<td><code class="prettyprint">lastPaidOn</code></td>
<td>The date when this bill was last paid.</td>
</tr>
<tr>
<td><code class="prettyprint">payDate</code></td>
<td>The date when the next bill will be paid.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><a href="#bill-status">Status</a> of the bill.</td>
</tr>
<tr>
<td><code class="prettyprint">company</code></td>
<td>Company Object</td>
</tr>
<tr>
<td><code class="prettyprint">settings</code></td>
<td>Settings for a bill.</td>
</tr>
<tr>
<td><code class="prettyprint">settings.recurring</code></td>
<td>Whether or not payments are scheduled automatically. Possible values are <code class="prettyprint">enabled</code>, <code class="prettyprint">disabled</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">settings.schedule</code></td>
<td>The <a href="#bill-payment-schedule">schedule</a> for when a bill payment will be made.</td>
</tr>
</tbody></table>

          <h2 id="bill-status">Bill status</h2>

<blockquote>
<p>Syncing Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syncing"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Nothing Due Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zero-balance"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Overdue Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"overdue"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Payment Required Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-required"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Payment Declined Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-declined"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Upcoming Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Pending Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-24T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Paid Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A bill&rsquo;s <code class="prettyprint">status.type</code> can be a variety of types. Each type is documented below with a description of the status and a typical use case.</p>

<h3 id="syncing">syncing</h3>

<p>Our system is currently retrieving data.</p>

<p><img alt="Bill Syncing" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-syncing.png" /></p>

<h3 id="zero-balance">zero-balance</h3>

<p>Bill data is not available yet. Most common reason is that the user hasn&rsquo;t received a bill. (change image)</p>

<p><img alt="Bill Zero Balance" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-zero-balance.png" /></p>

<h3 id="overdue">overdue</h3>

<p>The due date for the bill has passed, and no payment has been made. Common reasons for an overdue bill are:</p>

<ul>
<li>A user adds a bill that is already overdue.</li>
<li><code class="prettyprint">recurring</code> is enabled and the user has no payment method or their payment method&rsquo;s status is <code class="prettyprint">failed</code>.</li>
<li><code class="prettyprint">recurring</code> is disabled and a payment has not been scheduled via the <code class="prettyprint">/payment/schedule</code> endpoint.</li>
</ul>

<p><img alt="Bill Overdue" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-overdue.png" /></p>

<h3 id="payment-required">payment-required</h3>

<p>The payment method specified by <code class="prettyprint">company.requiredPayment</code> is required to pay this bill. A linked payment method must be assigned before bill payments will resume. This can be done via the <code class="prettyprint">/payment/{paymentMethodId}/assign</code> endpoint.</p>

<p><img alt="Payment required" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="payment-declined">payment-declined</h3>

<p>The payment method used to pay this bill was declined. To resume bill payments, have the user try their payment method again via the <code class="prettyprint">/payment/{paymentMethodId}/retry</code> endpoint, or assign another one via the <code class="prettyprint">/payment/{paymentMethodId}/assign</code> endpoint.</p>

<p><img alt="Payment declined" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="upcoming">upcoming</h3>

<p>The user has an outstanding balance on their account that will be paid in the future.</p>

<p><img alt="Bill Upcoming" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-upcoming.png" /></p>

<h3 id="pending">pending</h3>

<p>The user has an outstanding balance with a future due date.</p>

<p><img alt="Bill Pending" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-pending.png" /></p>

<h3 id="paid">paid</h3>

<p>The user has no outstanding balance and has a last paid amount on their account.</p>

<p><img alt="Bill Paid" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-paid.png" /></p>

          <h2 id="bill-payment-schedule">Bill payment schedule</h2>

<p>A bill&rsquo;s <code class="prettyprint">settings.schedule</code> is the number of days before the due date when a bill will be paid. This schedule will be followed when <code class="prettyprint">settings.recurring</code> is enabled and the company allows it.
<br><br>
The bill&rsquo;s <code class="prettyprint">payDate</code> is the date in which the next bill payment will be made. When recurring payments are enabled, the <code class="prettyprint">payDate</code> is calculated by the assigned <code class="prettyprint">settings.schedule</code>. When recurring payments are disabled, one-time payments may be scheduled on-demand via the <code class="prettyprint">/payment/schedule</code> endpoint. Available <code class="prettyprint">settings.schedule</code> options are documented below.</p>

<h3 id="ten-days-before">ten-days-before</h3>

<p>A payment will be made ten days before the due date.</p>

<h3 id="five-days-before">five-days-before</h3>

<p>A payment will be made five days before the due date.</p>

<h3 id="day-before">day-before</h3>

<p>A payment will be made the day before the due date.</p>

<h3 id="on-due-date">on-due-date</h3>

<p>A payment will be made on the due date.</p>

<h3 id="immediately">immediately</h3>

<p>A payment will be made as soon as a new bill is received.</p>

          <h2 id="retrieve-bill-details">Retrieve bill details</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/bill/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -G
</code></pre>

<blockquote>
<p>Example Upcoming Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Paid Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.12"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"153.19"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve details about a bill including outstanding balance, due date, settings, status, and payment history.</p>

<p><img alt="Detail" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/detail.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/bill/{billId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">billId</code></td>
<td>ID of bill to retrieve.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns details for a bill if a valid <code class="prettyprint">billId</code> was provided. Returns an error otherwise.</p>

          <h2 id="list-all-bills">List all bills</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>  curl https://api.unbill.co/v1/bill/list/579b695decfa11012711875d
    -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span>
    -G 
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
        </span><span class="p">},</span><span class="w"> 
        </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enabled"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day-before"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.12"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="w">
      </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"153.19"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02T00:00:00.000Z"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves a list of user&rsquo;s bills.</p>

<p><img alt="Overview" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/overview.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/bill/list/{clientId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>ID of the client to retrieve bills for.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A dictionary with a <code class="prettyprint">data</code> property that contains an array of bill details.</p>

          <h1 id="company">Company</h1>

<p>Company objects allow you to authenticate bills with your users. The API allows you to retrieve and search for companies.</p>

          <h2 id="the-company-object">The company object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">30.70</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the company.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>Name of the company.</td>
</tr>
<tr>
<td><code class="prettyprint">logo</code></td>
<td>Company logo object.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.url</code></td>
<td>URL of the company logo.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.background</code></td>
<td>If this is <code class="prettyprint">true</code>, then the logo looks best as a background image.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg</code></td>
<td>Company logo svg object.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg.url</code></td>
<td>URL of the company svg logo.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg.color</code></td>
<td>Hex color of the company logo.</td>
</tr>
<tr>
<td><code class="prettyprint">requiredPayment</code></td>
<td>If a specific payment method type is required by this company, this will be defined. Possible values are <code class="prettyprint">bank</code>, <code class="prettyprint">card</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">schedule</code></td>
<td>The <a href="#bill-payment-schedule">bill payment schedule</a> this company follows. If this parameter is set, the schedule for a bill linked to this company may not be changed. Typically subscription companies such as Netflix have this parameter set since payments must be made on a specific date.</td>
</tr>
<tr>
<td><code class="prettyprint">auth</code></td>
<td>Company auth fields.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls</code></td>
<td>Company Auth Urls (login URL is always available, but the others can by null).</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.login</code></td>
<td>Login URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.signup</code></td>
<td>Signup URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.forgotPassword</code></td>
<td>Forgot password URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.forgotUsername</code></td>
<td>Forgot username URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields</code></td>
<td>Form fields for credentials.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.placeholder</code></td>
<td>Input <code class="prettyprint">placeholder</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.formType</code></td>
<td>Input <code class="prettyprint">type</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.name</code></td>
<td>Input <code class="prettyprint">name</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.label</code></td>
<td>Label for <code class="prettyprint">input</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">geo</code></td>
<td>Geo based location (not available for regional or national company).</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lat</code></td>
<td>Latitude coordinate.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lng</code></td>
<td>Longitude coordinate.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.stateShort</code></td>
<td>Abbreviated state name.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.stateLong</code></td>
<td>Full state name.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.zipcode</code></td>
<td>Zipcode.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.address</code></td>
<td>Formatted address.</td>
</tr>
</tbody></table>

          <h2 id="company-logos">Company logos</h2>

<p>The Q2 Biller Direct API provides image URL&rsquo;s for each company&rsquo;s logo. For our most popular companies, we also provide a white svg logo, along with the hex color of the company&rsquo;s brand. There are three ideal ways of presenting these logos in your apps.</p>

<ol>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is available, the svg logo looks best on the <code class="prettyprint">company.logo.svg.color</code> background.</p>

<p><img alt="Netflix" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/netflix-svg-logo.png" /></p></li>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is not available and the <code class="prettyprint">company.logo.background</code> field is set to <code class="prettyprint">false</code>, the logo looks best on a white background.</p>

<p><img alt="TWC" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/twc-logo.png" /></p></li>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is not available and the <code class="prettyprint">company.logo.background</code> field is set to <code class="prettyprint">true</code>, the logo looks best as a background image with the company name overlaid on top.</p>

<p><img alt="Varsity House" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/varsity-logo.png" /></p></li>
</ol>

          <h2 id="company-categories">Company categories</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/company/categories"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -G
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Electric"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"electric"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/mobile/billers/category_icons/electric.svg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a list of company categories you can use to search for companies by category <code class="prettyprint">type</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/company/categories</code></p>

<h3 id="returns">Returns</h3>

<p>A dictionary with a <code class="prettyprint">data</code> property that contains an array of company categories.</p>

          <h2 id="retrieve-a-company">Retrieve a company</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/company/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -G
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">30.70</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves the company with the given ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/company/{companyId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>ID of company to retrieve.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a <a href="#the-company-object">company object</a> if a valid <code class="prettyprint">companyId</code> was provided. Returns an error otherwise.</p>

          <h2 id="search-for-companies">Search for companies</h2>

<blockquote>
<p>Example Requests</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/company/search"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "query": "Netflix"
  }'</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/company/search"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "category": "gas"
  }'</span>
</code></pre>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/company/search"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "geo": {
      "lat": 40.233845,
      "lng": -111.65852
    }
  }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on-due-date"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">30.70</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Search for companies by name, category, or nearby a geo coordinate.</p>

<p><img alt="Company Categories" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/company-categories.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/company/search</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query</code></td>
<td>The text string on which to search companies by name.</td>
</tr>
<tr>
<td><code class="prettyprint">category</code></td>
<td>Category <code class="prettyprint">type</code> retrieved from the <code class="prettyprint">/company/categories</code> endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">geo</code></td>
<td>Geo coordinates to search companies by location.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lat</code></td>
<td>Latitude coordinate.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lng</code></td>
<td>Longitude coordinate.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A dictionary with a <code class="prettyprint">data</code> property that contains an array of <a href="#the-company-object">company objects</a> that match the provided search filters.</p>

          <h1 id="payment">Payment</h1>

<p>In order to make payments towards a user&rsquo;s bill, they must first link a payment method using the <code class="prettyprint">/payment</code> endpoint. By default, after a payment method is linked, payments will be made towards a user&rsquo;s bills on time. The API allows you to add and retrieve a user&rsquo;s payment method, as well as make payments towards a bill&rsquo;s outstanding balance.</p>

          <h2 id="the-card-object">The card object</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0005"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american express"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T12:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">number</code></td>
<td>Masked card number.</td>
</tr>
<tr>
<td><code class="prettyprint">brand</code></td>
<td>Card brand. Possible values are <code class="prettyprint">visa</code>, <code class="prettyprint">mastercard</code>, <code class="prettyprint">american express</code>, etc.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>Card type. Possible values are <code class="prettyprint">credit</code>, <code class="prettyprint">debit</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">expDate</code></td>
<td>Card expiration date.</td>
</tr>
</tbody></table>

          <h2 id="the-bank-object">The bank object</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"routingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0002"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0021"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">routingNumber</code></td>
<td>Masked routing number.</td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code></td>
<td>Masked account number.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>Bank account type. Possible values are <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>.</td>
</tr>
</tbody></table>

          <h2 id="the-payment-method-object">The payment method object</h2>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0005"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american express"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T12:00:00.000Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"assignedBills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the payment method.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>The type of the payment method on file. Possible values are <code class="prettyprint">card</code>, <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>The status of the payment method on file. Possible values are <code class="prettyprint">verified</code>, <code class="prettyprint">declined</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">default</code></td>
<td>If this is the default payment method. Default means that it will pay any bills not specifically assigned a payment method.</td>
</tr>
<tr>
<td><code class="prettyprint">assignedBills</code></td>
<td>A list of bill ID&rsquo;s this payment method was specifically assigned to.</td>
</tr>
<tr>
<td><code class="prettyprint">card</code></td>
<td><a href="#the-card-object">Card object</a></td>
</tr>
<tr>
<td><code class="prettyprint">bank</code></td>
<td><a href="#the-bank-object">Bank object</a></td>
</tr>
</tbody></table>

          <h2 id="payment-status">Payment status</h2>

<p>A payment method can have one of three statuses. Each type is documented below with a description of the status and a typical use case.</p>

<h3 id="verified">verified</h3>

<p>The payment method on file is verified and eligible to make payments.</p>

<h3 id="declined">declined</h3>

<p>The payment method on file is not eligible to make payments. This may happen for a number of reasons including:</p>

<ul>
<li>Insufficient funds</li>
<li>Expired card</li>
<li>Closed bank account</li>
</ul>

<p>When a user&rsquo;s payment method fails to pay a bill, we set their payment method status as <code class="prettyprint">declined</code>. While their status is <code class="prettyprint">declined</code> no bill payments will be made in behalf of the user. To address this issue, you may take one of the following courses of action:</p>

<ol>
<li>Link a new payment method via the <code class="prettyprint">/payment</code> endpoint.</li>
<li>Retry the payment method via the <code class="prettyprint">/payment/{paymentMethodId}/retry</code> endpoint.</li>
</ol>

<p><em>Declined payment prompt</em></p>

<p><img alt="Failed Payment" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/failed-payment.png" /></p>

<p>If their payment method continues to be declined, it will be removed from their account. If the removed payment method was the default, the user will need to link a new payment method or choose another payment method on file as their default before bill payment services resume.</p>

          <h2 id="add-a-payment-method">Add a payment method</h2>

<blockquote>
<p>Example Card Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "clientId": "56e1ddbd1a05319bc198d36f",
    "paymentType": "card",
    "cardNumber": "378282246310005",
    "cardCode": "218",
    "expMonth": "10",
    "expYear": "2017",
    "zipcode": "12345",
    "name": "Sean Hill",
    "setAsDefault": true
  }'</span>
</code></pre>

<blockquote>
<p>Example Bank Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/auth"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "clientId": "56e1ddbd1a05319bc198d36f",
    "paymentType": "bank",
    "routingNumber": "021000021",
    "accountNumber": "9900000002",
    "accountType": "checking",
    "name": "Sean Hill"
  }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1ddbd1a05319bc198d36f"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add a payment method to a user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>Unbill client ID.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentType</code></td>
<td>Type of payment. Possible values are <code class="prettyprint">card</code>, <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">cardNumber</code></td>
<td>Credit card number.</td>
</tr>
<tr>
<td><code class="prettyprint">cardCode</code></td>
<td>Credit card CVV.</td>
</tr>
<tr>
<td><code class="prettyprint">expMonth</code></td>
<td>Credit card expiration month formatted as <code class="prettyprint">XX</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">expYear</code></td>
<td>Credit card expiration year formatted as <code class="prettyprint">XXXX</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">zipcode</code></td>
<td>Credit card zipcode.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>The name as it appears on the payment account.</td>
</tr>
<tr>
<td><code class="prettyprint">routingNumber</code></td>
<td>Bank routing number.</td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code></td>
<td>Bank account number.</td>
</tr>
<tr>
<td><code class="prettyprint">accountType</code></td>
<td>Type of bank account. Possible values are <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">setAsDefault</code></td>
<td>Set this payment method as the default.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a<code class="prettyprint">paymentMethodId</code> property if the payment method was successfully added. Returns an error otherwise.</p>

          <h2 id="list-all-payment-methods">List all payment methods</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/list/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -G
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3754dec21e861b5a3718"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sean Hill"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4242"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-01T12:00:00.000Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sean Hill"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bank"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"routing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX2531"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4124"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a list of payment methods on file for a user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.unbill.co/v1/payment/list/{clientId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">clientId</code></td>
<td>ID of client to retrieve payment methods for.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A dictionary with a <code class="prettyprint">data</code> property that contains an array of <a href="#the-payment-method-object">payment method objects</a>.</p>

          <h2 id="delete-payment-method">Delete payment method</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/566595c8ce88ccec69328566"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -X DELETE
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete a payment method on file for bill payments. If a payment was made within the last 24 hours with this payment method, an error will be returned. Q2 requires a 24 hour time span after a payment has been made before a payment method can be deleted.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.unbill.co/v1/payment/{paymentMethodId}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>ID of payment method to delete.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the payment method was deleted. Returns an error otherwise.</p>

          <h2 id="retry-payment-method">Retry payment method</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/566595c8ce88ccec69328566/retry"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retry a <code class="prettyprint">declined</code> payment method on file for bill payments.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment/{paymentMethodId}/retry</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>ID of payment method to retry.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the payment method will be retried. Returns an error otherwise.</p>

          <h2 id="default-payment-method">Default payment method</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/566595c8ce88ccec69328566/set-default"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -X POST
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Set a payment method as the <code class="prettyprint">default</code> for bill payments.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment/{paymentMethodId}/set-default</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>ID of payment method to set as default.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the payment method was set as default. Returns an error otherwise.</p>

          <h2 id="assign-payment-method">Assign payment method</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/566595c8ce88ccec69328566/assign"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "billId": "566595c8ce88ccec69328566",
  }'</span>
  -X POST
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Assign a linked payment method to pay a specific bill. This is required when a company&rsquo;s <code class="prettyprint">requiredPayment</code> is defined as <code class="prettyprint">card</code> or <code class="prettyprint">bank</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment/{paymentMethodId}/assign</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>ID of payment method to assign.</td>
</tr>
<tr>
<td><code class="prettyprint">billId</code></td>
<td>ID of bill to assign payment method to.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if the payment method was assigned. Returns an error otherwise.</p>

          <h2 id="update-payment-settings">Update payment settings</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/566595c8ce88ccec69328566/settings"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "billId": "566595c8ce88ccec69328566",
    "recurring": "enabled",
    "schedule": "five-days-before"
  }'</span>
  -X POST
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>

<p>Update payment settings for a bill.</p>

<p>Some subscription companies, such as Netflix, Hulu, and Spotify require recurring payments to be enabled. If a request to the <code class="prettyprint">/payment/{paymentMethodId}/settings</code> endpoint is made for one of these companies, an error will be returned and recurring payments will not be disabled.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment/settings</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">billId</code></td>
<td>ID of bill to update payment settings for.</td>
</tr>
<tr>
<td><code class="prettyprint">recurring</code></td>
<td>Whether recurring payments should be <code class="prettyprint">enabled</code> or <code class="prettyprint">disabled</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">schedule</code></td>
<td>The <a href="#bill-payment-schedule">bill payment schedule</a> for payments</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if payment settings were successfully updated. Returns an error otherwise.</p>

          <h2 id="schedule-payment">Schedule payment</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/payment/schedule"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "billId": "566595c8ce88ccec69328566",
    "payDate": "2018-10-25T00:00:00.000Z"
  }'</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"payDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-25T00:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Schedule an on-demand payment towards a bill&rsquo;s outstanding balance.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/payment/schedule</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">billId</code></td>
<td>ID of bill to schedule payment for.</td>
</tr>
<tr>
<td><code class="prettyprint">date</code><br><small class="opt">(optional)</small></td>
<td>An <code class="prettyprint">ISO 8601</code> formatted date that sets what day this bill will be paid. If no <code class="prettyprint">date</code> is specified, the bill is scheduled to be paid immediately.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">success</code> property if a payment was scheduled. Returns an error otherwise.</p>

          <h1 id="client">Client</h1>

<p>To authenticate and interact with the endpoints on behalf of a given user, a <code class="prettyprint">clientId</code> is required.</p>

          <h2 id="create-client">Create Client</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/client/create"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "identifier": "Bk0zwVx1Z"
  }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates or returns an existing client to be used with requests.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/client/create</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">identifier</code></td>
<td>A unique identifier that represents a user in your system.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">clientId</code> property that can be used for requests.</p>

          <h2 id="create-token">Create Token</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.unbill.co/v1/client/create-token"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer dc220490-e6ee-11e5-8a94-e7385a8d929e"</span> <span class="se">\</span>
  -d <span class="s1">'{
    "identifier": "Bk0zwVx1Z",
    "nonce": false,
    "meta": {
      "firstName": "Sean",
      "lastName": "Hill",
      "zipcode": "12345"
    }
  }'</span>
</code></pre>

<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566c8ce8595c8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a token to be used for SSO into applications.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.unbill.co/v1/client/create-token</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">identifier</code></td>
<td>A unique identifier that represents a user in your system.</td>
</tr>
<tr>
<td><code class="prettyprint">nonce</code></td>
<td>Tokens are instantly consumed upon use. If you would like to make a re-useable token, you may set <code class="prettyprint">nonce</code> to <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">meta</code></td>
<td>Additional information about the user in your system.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an object with a <code class="prettyprint">token</code> property that can be used to SSO into applications.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
    <script>
      mixpanel.init('16aa17c5de12dd4ba07edc5c4fb73ddf');
      mixpanel.track('Viewed Docs');
      mixpanel.track_links('#unbill-node', 'Viewed Node Library');
      mixpanel.track_links('#unbill-ionic', 'Viewed Ionic App');
    </script>
  </body>
</html>
