<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/x-icon">
    <title>Unbill API</title>
    <meta name="description" content="API for bill payments. Rent, electric, phone, loan, tv, you name it.">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
    </script>
    <!-- end Mixpanel -->

  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        <img src="images/navbar.svg" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.svg" />
        <div class="lang-selector">
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="overview">Overview</h1>

<h2 id="introduction">Introduction</h2>

<blockquote>
<p>API Host</p>
</blockquote>
<pre class="highlight plaintext"><code>https://sandbox.unbill.co/partner/v2 (development)
https://unbill.co/partner/v2 (production)
</code></pre>

<blockquote>
<p>Resource URL Patterns</p>
</blockquote>
<pre class="highlight plaintext"><code>/auth
/bill
/company
/payment
/user
</code></pre>

<p>Welcome! The Unbill API allows developers to receive user-authorized bill data and make payments on behalf of a user. With over 4000 companies and counting, supercharge your platform with the Unbill API. </p>

<p>Here you will find information on how to integrate with and use the Unbill API. We&rsquo;ve tried to make this documentation user-friendly and example-filled, but please <a href="mailto:api@unbill.us">drop us a line</a> with any questions. If you&rsquo;re planning to use our API in production, you should take a look at our <a href="http://unbill.us/privacy.html">privacy policy</a>.</p>

<p>The Unbill API uses standard HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html">verbs</a> to communicate and HTTP <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html">response codes</a> to indicate status and errors. All responses come in standard <a href="http://www.json.org/">JSON</a>. The Unbill API is served over HTTPS to ensure data privacy; HTTP is not supported. Every request must include your <code class="prettyprint">unbillKey</code>.</p>

<p><img alt="Overview" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/unbill.png" /></p>

<h2 id="gaining-access">Gaining Access</h2>

<p>To gain access to the Unbill API, please <a href="https://unbill.typeform.com/to/oEBbt1">fill out this form</a>. After our review process is complete, you&rsquo;ll be provided with an <code class="prettyprint">unbillKey</code> which you can use for your requests.</p>

          <h2 id="authentication">Authentication</h2>

<p>Every request made must include your <code class="prettyprint">unbillKey</code> token provided to you. If the <code class="prettyprint">unbillKey</code> is not passed in the <code class="prettyprint">POST</code> request, you will receive a <code class="prettyprint">401 Not Authorized</code> response.</p>

          <h2 id="getting-started">Getting Started</h2>

<blockquote>
<p>Quickstart</p>
</blockquote>
<pre class="highlight plaintext"><code>https://unbill.co/partner/v2/auth
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"form"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appleseed"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-03T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To authenticate bills with your users, you may use the following flow.</p>

<h3 id="user-creation">User Creation</h3>

<ol>
<li>User signs up in your app.</li>
<li>Make a request to the <code class="prettyprint">/user/create</code> endpoint to retrieve an Unbill <code class="prettyprint">userId</code> to store in your database for future requests.</li>
</ol>

<h3 id="bill-authentication">Bill Authentication</h3>

<ol>
<li>Search for the company you&rsquo;d like to add from the <code class="prettyprint">/company/search</code> endpoint.</li>
<li>Provide your user with a &ldquo;bill authentication&rdquo; view populated with the login fields retrieved from the desired company.</li>
<li>Have your user fill out their credentials, and then send those credentials to the <code class="prettyprint">/auth</code> endpoint.</li>
<li>Unbill will begin the authentication process and if successful, will return available bill data.</li>
</ol>

<h3 id="bill-overview">Bill Overview</h3>

<ol>
<li>Requests can be made to the <code class="prettyprint">/bill/overview</code> endpoint to retrieve the list of authenticated bills and balance information.</li>
<li>Requests can be made to the <code class="prettyprint">/bill/detail</code> endpoint to retrieve details on a specific bill.</li>
</ol>

<h3 id="payments">Payments</h3>

<ol>
<li>Provide your user with a &ldquo;link payment&rdquo; view to choose a payment method.</li>
<li>Link this payment method to Unbill using the <code class="prettyprint">/payment/add</code> endpoint.</li>
<li>By default, bills will be paid automatically by using the payment method on file.</li>
<li>To change this, you must make a request to the <code class="prettyprint">/payment/autopay</code> endpoint to disable autopay.</li>
<li>When autopay is disabled, in order to make a payment, one must be scheduled via the <code class="prettyprint">/payment/make</code> endpoint.</li>
</ol>

          <h1 id="resources">Resources</h1>

<h2 id="introduction">Introduction</h2>

<p>All open source libraries and sample apps for Unbill are listed below. If you&rsquo;ve built anything that you&rsquo;d be willing to share, please let us know and we&rsquo;ll link to it here (and send you a t-shirt)!</p>

<h2 id="official-libraries">Official Libraries</h2>

<div class="resources">
    <a id="unbill-node" href="https://github.com/unbill/unbill-node" target="_blank" class="resource">
        <img src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/node.svg" />
        <div class="content">
            <h3>Node</h3>
            <p>unbill-node</p>
        </div>
    </a>
</div>

<h2 id="official-apps">Official Apps</h2>

<div class="resources">
    <a id="unbill-ionic" href="https://github.com/unbill/unbill-ionic" target="_blank" class="resource">
        <img src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/ionic.png" />
        <div class="content">
            <h3>Ionic</h3>
            <p>unbill-ionic</p>
        </div>
    </a>
</div>

          <h1 id="auth-api">Auth API</h1>

<p>Authenticate a user&rsquo;s bill credentials via Unbill. This process may take anywhere from 15-90 seconds depending on the responsiveness of the company&rsquo;s website. If a <code class="prettyprint">200</code> status code is returned, no additional MFA is required. If a <code class="prettyprint">201</code> status code is returned, additional MFA is required to authenticate with the company and must be submitted via the <code class="prettyprint">/auth/step</code> endpoint.</p>

<p><img alt="Credentials View" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/credentials-view.png" /></p>

          <h2 id="auth">Auth</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"form"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appleseed"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response (Authenticated)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-25T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>201 Response (Question Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questions"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> 
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the name of your first pet?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bk0zwVx1Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>201 Response (Code Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t...t@unbill.us"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"r1g0mvVg1Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email: t...t@unbill.us"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B1gyVvElJZ"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phone: xxx-xxx-1234"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SkbkEP4ekW"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text: xxx-xxx-1234"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You may want to double check your information."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/auth</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>ID of user being authenticated.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>ID of company being authenticated.</td>
</tr>
<tr>
<td><code class="prettyprint">form</code></td>
<td>Bill credentials to authenticate.</td>
</tr>
</tbody></table>

<h3 id="testing">Testing</h3>

<p>To test an MFA 201 response, pass in a <code class="prettyprint">mfaTest</code> flag whose value can be <code class="prettyprint">questions</code> for a question based response, or <code class="prettyprint">code</code> for a code based response. In this response will be provided the <code class="prettyprint">token</code> which you can submit to the <code class="prettyprint">/auth/step</code> endpoint for additional testing.</p>

<h3 id="200-response-body">200 Response Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bill</code></td>
<td>If there is an outstanding bill, this will be available.</td>
</tr>
<tr>
<td><code class="prettyprint">bill.balance</code></td>
<td>Current balance (Will be <code class="prettyprint">0</code> if not available).</td>
</tr>
<tr>
<td><code class="prettyprint">bill.dueDate</code></td>
<td>Current due date (Will be <code class="prettyprint">undefined</code> if not available).</td>
</tr>
</tbody></table>

<h3 id="201-response-body-mfa">201 Response Body (MFA)</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Token to be used when stepping through MFA via the <code class="prettyprint">/auth/step</code> endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>The type of MFA being applied. <code class="prettyprint">questions, code</code></td>
</tr>
<tr>
<td><code class="prettyprint">mfa</code></td>
<td>List of required MFA to pass.</td>
</tr>
</tbody></table>

          <h2 id="auth-mfa">Auth MFA</h2>

<blockquote>
<p>Sample Request (Question Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"answer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Secret Answer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bk0zwVx1Z"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Request (Code Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> 
    </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ByDXD4eJW"</span><span class="w"> 
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response (Authenticated)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-25T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>201 Response (Question Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"questions"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> 
    </span><span class="nt">"question"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What is the name of your first pet?"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bk0zwVx1Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>201 Response (Code Based MFA)</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"code"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mfa"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t...t@unbill.us"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"r1g0mvVg1Z"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Email: t...t@unbill.us"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B1gyVvElJZ"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phone: xxx-xxx-1234"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="nt">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxx-xxx-1234"</span><span class="p">,</span><span class="w"> </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w"> </span><span class="nt">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SkbkEP4ekW"</span><span class="p">,</span><span class="w"> </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Text: xxx-xxx-1234"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You may want to double check your information."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Some companies require multi-factor authentication (MFA) and the<code class="prettyprint">/auth/step</code> route is built to submit the additional information needed. Users are first submitted via the standard authenticate process via the <code class="prettyprint">/auth</code> endpoint, and the MFA data is sent through an additional request to the <code class="prettyprint">/auth/step</code> route.</p>

<p>For <code class="prettyprint">questions</code> (Question Based MFA) return the answers formatted as an array of objects, where each object includes the <code class="prettyprint">answer</code> of the question and the <code class="prettyprint">identifier</code> received from previous <code class="prettyprint">auth</code> response. For <code class="prettyprint">code</code> (Code Based MFA) return the desired option by passing the <code class="prettyprint">identifier</code> field given to you from the previous <code class="prettyprint">auth</code> response. Continue to POST to the <code class="prettyprint">/auth/step</code> with the required answers until a <code class="prettyprint">200</code> status code is returned. At that point the user will be authenticated and you&rsquo;ll have access to bill data.</p>

<p><img alt="Credentials MFA View" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/credentials-mfa-view.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/auth/step</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Token provided to you from the <code class="prettyprint">/auth</code> response.</td>
</tr>
<tr>
<td><code class="prettyprint">mfa</code></td>
<td>The extra information needed for MFA authentication.</td>
</tr>
</tbody></table>

<h3 id="200-response-body">200 Response Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bill</code></td>
<td>If there is an outstanding bill, this will be available.</td>
</tr>
<tr>
<td><code class="prettyprint">bill.balance</code></td>
<td>Current balance (Will be <code class="prettyprint">0</code> if not available).</td>
</tr>
<tr>
<td><code class="prettyprint">bill.dueDate</code></td>
<td>Current due date (Will be <code class="prettyprint">undefined</code> if not available).</td>
</tr>
</tbody></table>

<h3 id="201-response-body-mfa">201 Response Body (MFA)</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Token to be used when stepping through MFA via the <code class="prettyprint">/auth/step</code> endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>The type of MFA being applied. <code class="prettyprint">questions, code</code></td>
</tr>
<tr>
<td><code class="prettyprint">mfa</code></td>
<td>List of required MFA to pass.</td>
</tr>
</tbody></table>

          <h1 id="bill-api">Bill API</h1>

<p>The bill object provides you with up-to-date balance, due date, and payment history for a bill. The API allows you to retrieve, list, and check the status of a user&rsquo;s bills.</p>

          <h2 id="the-bill-object">The bill object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due Oct 25"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the bill.</td>
</tr>
<tr>
<td><code class="prettyprint">balance</code></td>
<td>Current bill balance.</td>
</tr>
<tr>
<td><code class="prettyprint">dueDate</code></td>
<td>Current bill due date.</td>
</tr>
<tr>
<td><code class="prettyprint">lastPaidAmount</code></td>
<td>Amount of last payment.</td>
</tr>
<tr>
<td><code class="prettyprint">lastPaidOn</code></td>
<td>Date of last payment.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td><a href="#bill-status">Status</a> of the bill.</td>
</tr>
<tr>
<td><code class="prettyprint">headline</code></td>
<td><a href="#bill-headline">Headline</a> of the bill.</td>
</tr>
<tr>
<td><code class="prettyprint">reason</code></td>
<td>Reason the bill is on hold.</td>
</tr>
<tr>
<td><code class="prettyprint">settings</code></td>
<td>Settings for a bill.</td>
</tr>
<tr>
<td><code class="prettyprint">settings.autopay</code></td>
<td>Whether or not payments are scheduled automatically.</td>
</tr>
</tbody></table>

          <h2 id="bill-status">Bill status</h2>

<blockquote>
<p>Syncing Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syncing"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Syncing"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Nothing Due Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zero-balance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$0.00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Overdue Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"overdue"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Overdue"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Authenticate Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authenticate"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tap to fix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Payment Required Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-required"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tap to fix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Payment Declined Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"payment-declined"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tap to fix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Hold Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hold"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tap to fix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You'll need to login and accept the terms and conditions on your account."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Upcoming Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due Oct 25"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Pending Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w"> 
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pending"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Paid Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A bill <code class="prettyprint">status.type</code> can be a variety of types. Each type is documented below with a description of the status and a typical use case.</p>

<h3 id="syncing">syncing</h3>

<p>Our system is currently retrieving data.</p>

<p><img alt="Bill Syncing" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-syncing.png" /></p>

<h3 id="zero-balance">zero-balance</h3>

<p>Bill data is not available yet. Most common reason is that the user hasn&rsquo;t received a bill. (change image)</p>

<p><img alt="Bill Zero Balance" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-zero-balance.png" /></p>

<h3 id="overdue">overdue</h3>

<p>The due date for the bill has passed, and no payment has been made. Common reasons for an overdue bill are:</p>

<ul>
<li>A user adds a bill that is already overdue.</li>
<li><code class="prettyprint">autopay</code> is enabled and the user has no payment method or their payment method&rsquo;s status is <code class="prettyprint">failed</code>.</li>
<li><code class="prettyprint">autopay</code> is disabled and a payment has not been scheduled via the <code class="prettyprint">/payment/make</code> endpoint.</li>
</ul>

<p><img alt="Bill Overdue" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-overdue.png" /></p>

<h3 id="authenticate">authenticate</h3>

<p>The user&rsquo;s credentials no longer work with the company&rsquo;s website and need to be reauthenticated. Make a request to the <code class="prettyprint">/auth</code> endpoint with updated credentials to remove this status.</p>

<p><img alt="Bill Authenticate" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="payment-required">payment-required</h3>

<p>The payment method specified by <code class="prettyprint">company.requiredPayment</code> is required to pay this bill. A linked payment method must be assigned before bill payments will resume. This can be done via the <code class="prettyprint">/payment/assign</code> endpoint.</p>

<p><img alt="Payment required" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="payment-declined">payment-declined</h3>

<p>The payment method used to pay this bill was declined. To resume bill payments, have the user try their payment method again via the <code class="prettyprint">/payment/retry</code> endpoint, or assign another one via the <code class="prettyprint">/payment/assign</code> endpoint.</p>

<p><img alt="Payment declined" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-authenticate.png" /></p>

<h3 id="hold">hold</h3>

<p>For a number of reasons a bill can have the status of <code class="prettyprint">hold</code>. When a bill is on hold we&rsquo;ll present you with a <code class="prettyprint">reason</code> that you in turn can present to your users. To remove this status, the user must take the appropriate action as described in the <code class="prettyprint">reason</code>. This usually involves them needing to login into their online account. Once the user has completed the action, make a request to the <code class="prettyprint">/bill/fix-hold</code> endpoint to resume their bill services.</p>

<p><em>Display hold reason</em></p>

<p><img alt="Bill Hold" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-hold.png" /></p>

<p><em>Displayed after user returns to app</em></p>

<p><img alt="Bill Hold Confirm" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-hold-confirm.png" /></p>

<h3 id="upcoming">upcoming</h3>

<p>The user has an outstanding balance on their account that will be paid in the future.</p>

<p><img alt="Bill Upcoming" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-upcoming.png" /></p>

<h3 id="pending">pending</h3>

<p>The user has an outstanding balance with a future due date.</p>

<p><img alt="Bill Pending" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-pending.png" /></p>

<h3 id="paid">paid</h3>

<p>The user has no outstanding balance and has a last paid amount on their account.</p>

<p><img alt="Bill Paid" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-paid.png" /></p>

<p><br></p>

<p>A bill <code class="prettyprint">status.text</code> can be used in your bill overview. It is friendly text that describes the <code class="prettyprint">status.type</code> in more detail. Possible values are <code class="prettyprint">Syncing</code>, <code class="prettyprint">Tap to fix</code>, <code class="prettyprint">Due XXX X</code>, <code class="prettyprint">Overdue</code>, <code class="prettyprint">Pending</code>, <code class="prettyprint">Paid</code>.</p>

<p>A bill <code class="prettyprint">status.image</code> can be used in your bill overview. It is a URL to a status icon.</p>

<h2 id="bill-status-images">Bill status images</h2>

<p>Below is a list of the images used for a bill&rsquo;s <code class="prettyprint">status.image</code>.</p>

<ul>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/syncing.svg">syncing.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/zero-balance.svg">zero-balance.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/overdue.svg">overdue.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/authenticate.svg">authenticate.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/hold.svg">hold.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/upcoming.svg">upcoming.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/pending.svg">pending.svg</a></li>
<li><a href="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/paid.svg">paid.svg</a></li>
</ul>

          <h2 id="bill-headline">Bill headline</h2>

<blockquote>
<p>Sample Headline</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"headline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$35.23 due on 5/7."</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"buttons"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pay Now"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pay-now"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"primary"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">   
</span></code></pre>

<p>A bill <code class="prettyprint">headline</code> is a quick glance at the current state of a bill. It is available within the bill detail.</p>

<p><img alt="Bill Headline" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-headline.png" /></p>

<p>Each headline includes a <code class="prettyprint">title</code>, <code class="prettyprint">type</code>, optional <code class="prettyprint">subtitle</code>, and optional action <code class="prettyprint">buttons</code> as documented below.</p>

<h3 id="title">title</h3>

<p>The <code class="prettyprint">title</code> describes the current state of a bil.</p>

<h3 id="type">type</h3>

<p>The <code class="prettyprint">type</code> describes the type of headline and is similar to the status of a bill. Possible values are <code class="prettyprint">syncing</code>, <code class="prettyprint">pending</code>, <code class="prettyprint">paid</code>, <code class="prettyprint">upcoming</code>.</p>

<h3 id="subtitle">subtitle</h3>

<p>The <code class="prettyprint">subtitle</code> is additional helper text to more fully describe the state of the bill.</p>

<p><img alt="Bill Subtitle" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/bill-headline-subtitle.png" /></p>

<h3 id="buttons">buttons</h3>

<p>The <code class="prettyprint">buttons</code> represent possible actions a user could take. For example, when <code class="prettyprint">autopay</code> is disabled the <code class="prettyprint">title</code> would say &ldquo;$35.23 due on 5/7.&rdquo; and the button <code class="prettyprint">text</code> would be &ldquo;Pay Now&rdquo;. When the user clicks the &ldquo;Pay Now&rdquo; button, you would make a call the <code class="prettyprint">/payment/make</code> endpoint after confirming with the user they want to pay off their balance.</p>

<p>Each button includes <code class="prettyprint">text</code>, <code class="prettyprint">type</code>, and <code class="prettyprint">primary</code> fields. The <code class="prettyprint">text</code> describes the action. Possible values of <code class="prettyprint">type</code> are <code class="prettyprint">pay-now</code> (schedule payments) and <code class="prettyprint">bill-settings</code> (update autopay). When there are multiple buttons, <code class="prettyprint">primary</code> dictates which button is most relevant to the user in the list of <code class="prettyprint">buttons</code>.</p>

          <h2 id="retrieve-bill-detail">Retrieve bill detail</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Upcoming Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
    </span><span class="p">},</span><span class="w"> 
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"headline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$35.23 will be paid on 5/7."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Paid Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"headline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid in full."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.12"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-01T00:00:00.000Z"</span><span class="w">
  </span><span class="p">},{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"153.19"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-02T00:00:00.000Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We couldn't get information about this company, sorry."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve details about a bill including outstanding balance, due date, settings, status, and payment history.</p>

<p><img alt="Detail" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/detail.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/bill/detail</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID.</td>
</tr>
</tbody></table>

<h3 id="200-response-body">200 Response Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">bill</code></td>
<td>Bill object</td>
</tr>
<tr>
<td><code class="prettyprint">company</code></td>
<td>Company object</td>
</tr>
<tr>
<td><code class="prettyprint">payments</code></td>
<td>List of past bill payments</td>
</tr>
<tr>
<td><code class="prettyprint">payments.amount</code></td>
<td>Amount paid</td>
</tr>
<tr>
<td><code class="prettyprint">payments.paidOn</code></td>
<td>Date of payment</td>
</tr>
</tbody></table>

          <h2 id="list-all-bills">List all bills</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"syncing"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Syncing"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Time Warner Cable"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/4c805851c738c006546b234e3c3c793d.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due Oct 25"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Grove at Auburn"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/0e9a971a96646da46f5faa68862d0f2d.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastPaidAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastPaidOn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> 
  </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No company found by that ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieves a list of user&rsquo;s bills.</p>

<p><img alt="Overview" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/overview.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/bill/overview</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of bill and company objects that represents an overview of a user&rsquo;s bills.</p>

          <h2 id="fix-bill-hold">Fix bill hold</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bill"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decfa11012711875d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dueDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-25T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upcoming"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Due Oct 25"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/api/bill-status/status.svg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"company"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/bill/fix-hold</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns updated bill detail.</p>

          <h2 id="remove-bill">Remove bill</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Remove a bill from a user&rsquo;s list of bills.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/bill/remove</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID.</td>
</tr>
</tbody></table>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please provide userId and companyId."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>Returns a <code class="prettyprint">200</code> response if the bill was removed successfully.</p>

          <h1 id="company-api">Company API</h1>

<p>Company objects allow you to authenticate bills with your users. The API allows you to retrieve and search for companies.</p>

          <h2 id="the-company-object">The company object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"forcesAutopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"loc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w"> </span><span class="mf">30.70</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the company.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>Name of the company.</td>
</tr>
<tr>
<td><code class="prettyprint">logo</code></td>
<td>Company logo object.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.url</code></td>
<td>URL of the company logo.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.background</code></td>
<td>If this is <code class="prettyprint">true</code>, then the logo looks best as a background image.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg</code></td>
<td>Company logo svg object.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg.url</code></td>
<td>URL of the company svg logo.</td>
</tr>
<tr>
<td><code class="prettyprint">logo.svg.color</code></td>
<td>Hex color of the Company logo.</td>
</tr>
<tr>
<td><code class="prettyprint">requiredPayment</code></td>
<td>If a specific payment method type is required by this company, this will be defined. Possible values are <code class="prettyprint">bank</code>, <code class="prettyprint">card</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">forcesAutopay</code></td>
<td>Whether or not the company enforces auto payments. Typically subscription companies such as Netflix have this value set to <code class="prettyprint">true</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">auth</code></td>
<td>Company auth fields.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls</code></td>
<td>Company Auth Urls (login URL is always available, but the others can by null).</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.login</code></td>
<td>Login URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.signup</code></td>
<td>Signup URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.forgotPassword</code></td>
<td>Forgot password URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.urls.forgotUsername</code></td>
<td>Forgot username URL.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields</code></td>
<td>Form fields for credentials.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.placeholder</code></td>
<td>Input <code class="prettyprint">placeholder</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.formType</code></td>
<td>Input <code class="prettyprint">type</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.name</code></td>
<td>Input <code class="prettyprint">name</code> field.</td>
</tr>
<tr>
<td><code class="prettyprint">auth.loginFields.label</code></td>
<td>Label for <code class="prettyprint">input</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">geo</code></td>
<td>Geo based location (not available for regional or national company).</td>
</tr>
<tr>
<td><code class="prettyprint">geo.loc</code></td>
<td>Coordinates with syntax <code class="prettyprint">[ longitude, latitude ]</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.stateShort</code></td>
<td>Abbreviated state name.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.stateLong</code></td>
<td>Full state name.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.zipcode</code></td>
<td>Zipcode.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.address</code></td>
<td>Formatted address.</td>
</tr>
</tbody></table>

          <h2 id="company-logos">Company logos</h2>

<p>The Unbill API provides image URL&rsquo;s for each company&rsquo;s logo. For our most popular companies, we also provide a white svg logo, along with the hex color of the company&rsquo;s brand. There are three ideal ways of presenting these logos in your apps.</p>

<ol>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is available, the svg logo looks best on the <code class="prettyprint">company.logo.svg.color</code> background.</p>

<p><img alt="Netflix" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/netflix-svg-logo.png" /></p></li>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is not available and the <code class="prettyprint">company.logo.background</code> field is set to <code class="prettyprint">false</code>, the logo looks best on a white background.</p>

<p><img alt="TWC" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/twc-logo.png" /></p></li>
<li><p>When the <code class="prettyprint">company.logo.svg</code> is not available and the <code class="prettyprint">company.logo.background</code> field is set to <code class="prettyprint">true</code>, the logo looks best as a background image with the company name overlaid on top.</p>

<p><img alt="Varsity House" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/varsity-logo.png" /></p></li>
</ol>

          <h2 id="company-categories">Company categories</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Electric"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"electric"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"image"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/mobile/billers/category_icons/electric.svg"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">

</span></code></pre>

<p>Retrieve a list of company categories you can use to search for companies by category <code class="prettyprint">type</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/company/categories</code></p>

<h3 id="200-response-body">200 Response Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>Name of the category.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>Type of category (used when searching for companies).</td>
</tr>
<tr>
<td><code class="prettyprint">image</code></td>
<td>Category image object.</td>
</tr>
<tr>
<td><code class="prettyprint">image.url</code></td>
<td>URL of category image svg.</td>
</tr>
</tbody></table>

          <h2 id="retrieve-a-company">Retrieve a company</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"forcesAutopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"loc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w"> </span><span class="mf">30.70</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No company found by that ID."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets an Unbill company by Unbill company ID or partner company ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/company/get</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID or partner company ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a company object if a valid <code class="prettyprint">companyId</code> was provided.</p>

          <h2 id="search-for-companies">Search for companies</h2>

<blockquote>
<p>Sample Requests</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"query"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gas"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"lat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40.233845"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lng"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-111.658531"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Netflix"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.png"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"background"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"svg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3-us-west-2.amazonaws.com/cdn.unbill.com/uploads/utility-provider-logos/7242937ba29042cce61a8e4745269fce.svg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF041F"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"requiredPayment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"forcesAutopay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com/Login"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signup"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.netflix.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"loginFields"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="w">
    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"placeholder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"formType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"loc"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mf">-95.53</span><span class="p">,</span><span class="w"> </span><span class="mf">30.70</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"state_short"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TX"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state_long"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Texas"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"77340"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please provide search query."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Search for companies by name, category, or geo.</p>

<p><img alt="Company Categories" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/company-categories.png" /></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/company/search</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">query</code></td>
<td>The text string on which to search companies by name.</td>
</tr>
<tr>
<td><code class="prettyprint">category</code></td>
<td>Category <code class="prettyprint">type</code> retrieved from the <code class="prettyprint">/company/categories</code> endpoint.</td>
</tr>
<tr>
<td><code class="prettyprint">geo</code></td>
<td>Geo coordinates to search companies by location.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lat</code></td>
<td>Latitude coordinate.</td>
</tr>
<tr>
<td><code class="prettyprint">geo.lng</code></td>
<td>Longitude coordinate.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of company objects that match the provided <code class="prettyprint">query</code> or <code class="prettyprint">category</code>.</p>

          <h1 id="payment-api">Payment API</h1>

<p>In order to make payments towards a user&rsquo;s bill, they must first link a payment method using the <code class="prettyprint">/payment/add</code> endpoint. By default, after a payment method is linked, payments will be made towards a user&rsquo;s bills on time. The API allows you to add and retrieve a user&rsquo;s payment method, as well as make payments towards a bill&rsquo;s outstanding balance.</p>

          <h2 id="the-card-object">The card object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0005"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american express"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T12:00:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">number</code></td>
<td>Masked card number.</td>
</tr>
<tr>
<td><code class="prettyprint">brand</code></td>
<td>Card brand. Possible values are <code class="prettyprint">visa</code>, <code class="prettyprint">mastercard</code>, <code class="prettyprint">american express</code>, etc.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>Card type. Possible values are <code class="prettyprint">credit</code>, <code class="prettyprint">debit</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">expDate</code></td>
<td>Card expiration date.</td>
</tr>
</tbody></table>

          <h2 id="the-bank-object">The bank object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"routingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0002"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0021"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">routingNumber</code></td>
<td>Masked routing number.</td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code></td>
<td>Masked account number.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>Bank account type. Possible values are <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>.</td>
</tr>
</tbody></table>

          <h2 id="the-payment-method-object">The payment method object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX0005"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"american express"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-01T12:00:00.000Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"assignedBills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">_id</code></td>
<td>ID of the payment method.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>The type of the payment method on file. Possible values are <code class="prettyprint">card</code>, <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>The status of the payment method on file. Possible values are <code class="prettyprint">verified</code>, <code class="prettyprint">declined</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">default</code></td>
<td>If this is the default payment method. Default means that it will pay any bills not specifically assigned a payment method.</td>
</tr>
<tr>
<td><code class="prettyprint">assignedBills</code></td>
<td>A list of bill ID&rsquo;s this payment method was specifically assigned to.</td>
</tr>
<tr>
<td><code class="prettyprint">card</code></td>
<td>Card object</td>
</tr>
<tr>
<td><code class="prettyprint">bank</code></td>
<td>Bank object</td>
</tr>
</tbody></table>

          <h2 id="payment-status">Payment status</h2>

<p>A payment method can have one of three statuses. Each type is documented below with a description of the status and a typical use case.</p>

<h3 id="verified">verified</h3>

<p>The payment method on file is verified and eligible to make payments.</p>

<h3 id="declined">declined</h3>

<p>The payment method on file is not eligible to make payments. This may happen for a number of reasons including:</p>

<ul>
<li>Insufficient funds</li>
<li>Expired card</li>
<li>Closed bank account</li>
</ul>

<p>When a user&rsquo;s payment method fails to pay a bill, we set their payment method status as <code class="prettyprint">declined</code>. While their status is <code class="prettyprint">declined</code> no bill payments will be made in behalf of the user. To address this issue, you may take one of the following courses of action:</p>

<ol>
<li>Link a new payment method via the <code class="prettyprint">/payment/add</code> endpoint.</li>
<li>Retry the payment method via the <code class="prettyprint">/payment/retry</code> endpoint.</li>
</ol>

<p><em>Declined payment prompt</em></p>

<p><img alt="Failed Payment" src="https://s3-us-west-2.amazonaws.com/cdn.unbill.com/assets/docs/failed-payment.png" /></p>

<p>If their payment method continues to be declined, it will be removed from their account. If the removed payment method was the default, the user will need to link a new payment method or choose another payment method on file as their default before bill payment services resume.</p>

          <h2 id="add-a-payment-method">Add a payment method</h2>

<blockquote>
<p>Request Credit Card Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1ddbd1a05319bc198d36f"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"debit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cardNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"378282246310005"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cardCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"218"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06/2019"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Request Bank Account Example</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1ddbd1a05319bc198d36f"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"routingNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"021000021"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9900000002"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echeck"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"That card number doesn't look valid. Try again perhaps?"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Add a payment method to an Unbill user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/add</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">paymentType</code></td>
<td>Type of payment <code class="prettyprint">credit, debit, echeck</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">cardNumber</code></td>
<td>Credit card number</td>
</tr>
<tr>
<td><code class="prettyprint">cardCode</code></td>
<td>Credit card CVV</td>
</tr>
<tr>
<td><code class="prettyprint">expDate</code></td>
<td>Credit card expiration date</td>
</tr>
<tr>
<td><code class="prettyprint">zipcode</code></td>
<td>Credit card zipcode</td>
</tr>
<tr>
<td><code class="prettyprint">routingNumber</code></td>
<td>Bank routing number</td>
</tr>
<tr>
<td><code class="prettyprint">accountNumber</code></td>
<td>Bank account number</td>
</tr>
<tr>
<td><code class="prettyprint">accountType</code></td>
<td>Type of bank account <code class="prettyprint">checking, savings</code>.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a <code class="prettyprint">200</code> status code if the payment method was successfully added. Returns an error otherwise.</p>

          <h2 id="list-all-payment-methods">List all payment methods</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1ddbd1a05319bc198d36f"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3754dec21e861b5a3718"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4242"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-01T12:00:00.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bank"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"routing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX2531"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4124"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Oddly enough, we couldn't load your payment info."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve a list of payment methods on file for a user. When in Sandbox, <code class="prettyprint">type</code> will be <code class="prettyprint">credit</code> and <code class="prettyprint">brand</code> will be <code class="prettyprint">visa</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/get</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of card and bank objects. If no payment methods are on file, an empty array will be returned.</p>

          <h2 id="remove-payment-method">Remove payment method</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sorry! This payment method can't be removed because a payment was recently made with it. Please allow 24 hours before trying again."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Remove a payment method on file for bill payments. If a payment was made within the last 24 hours with this payment method, an error will be returned. Unbill requires a 24 hour time span after a payment has been made before a payment method can be removed.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/remove</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>Payment method ID.</td>
</tr>
</tbody></table>

          <h2 id="retry-payment-method">Retry payment method</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3754dec21e861b5a3718"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-01T12:00:00.000Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retry a <code class="prettyprint">declined</code> payment method on file for bill payments.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/retry</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>Payment method ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an updated payment object.</p>

          <h2 id="default-payment-method">Default payment method</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3754dec21e861b5a3718"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"card"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4242"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-01T12:00:00.000Z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Set a payment method as the <code class="prettyprint">default</code> for bill payments.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/set-default</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>Payment method ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an updated payment object.</p>

          <h2 id="assign-payment-method">Assign payment method</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paymentMethodId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"billId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"580e3e11dec21e861b5a3719"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bank"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"routing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX2531"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXX4124"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"assignedBills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"579b695decea110719b1874d"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Assign a linked payment method to pay a specific bill. This is required when a company&rsquo;s <code class="prettyprint">requiredPayment</code> is defined as <code class="prettyprint">card</code> or <code class="prettyprint">bank</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/assign</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paymentMethodId</code></td>
<td>Payment method ID.</td>
</tr>
<tr>
<td><code class="prettyprint">billId</code></td>
<td>Bill ID to assign.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an updated payment object.</p>

          <h2 id="enable-or-disable-autopay">Enable or disable autopay</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"autopay"</span><span class="p">:</span><span class="w"> </span><span class="s2">"disabled"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We couldn't disable auto pay for this company, sorry."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Enable or disable autopay for a bill.</p>

<p>Some subscription companies, such as Netflix, Hulu, and Spotify require automatic payments to be enabled. If a request to the <code class="prettyprint">/payment/autopay</code> endpoint is made for one of these companies, a <code class="prettyprint">400</code> status code will be returned and autopay will not be disabled.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/autopay</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID.</td>
</tr>
<tr>
<td><code class="prettyprint">autopay</code></td>
<td>Whether autopay should be enabled or disabled. <code class="prettyprint">enabled, disabled</code></td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a <code class="prettyprint">200</code> status code if autopay was enabled or disabled.</p>

          <h2 id="make-a-payment">Make a payment</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e1dbb5443b10a3bd403fcf"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please provide userId and companyId."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Make a payment towards this company&rsquo;s outstanding balance.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/payment/make</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID.</td>
</tr>
<tr>
<td><code class="prettyprint">companyId</code></td>
<td>Unbill company ID.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a <code class="prettyprint">200</code> status code if a payment is successfully scheduled. Returns an error otherwise.</p>

          <h1 id="user-api">User API</h1>

<p>To authenticate bills and retrieve balance and due date information, an Unbill <code class="prettyprint">userId</code> is required. The API allows you to create an Unbill user and retrieve a <code class="prettyprint">userId</code> for future requests.</p>

          <h2 id="create-user">Create user</h2>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"unbillKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc220490-e6ee-11e5-8a94-e7385a8d929e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Johnny"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Appleseed"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johnny@appleseed.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secret"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>200 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"566595c8ce88ccec69328566"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>400 Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please fill in all required fields."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve the payment method on file for an Unbill user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://unbill.co/partner/v2/user/create</code></p>

<h3 id="post-parameters">Post Parameters</h3>

<table><thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>Name for the user.</td>
</tr>
<tr>
<td><code class="prettyprint">name.first</code></td>
<td>First name.</td>
</tr>
<tr>
<td><code class="prettyprint">name.last</code></td>
<td>Last name.</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>Email for the user.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>Password for the user.</td>
</tr>
</tbody></table>

<h3 id="200-response-body">200 Response Body</h3>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">userId</code></td>
<td>Unbill user ID you can persist in your DB for future requests.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
    <script>
      mixpanel.init('16aa17c5de12dd4ba07edc5c4fb73ddf');
      mixpanel.track('Viewed Docs');
      mixpanel.track_links('#unbill-node', 'Viewed Node Library');
      mixpanel.track_links('#unbill-ionic', 'Viewed Ionic App');
    </script>
  </body>
</html>
