## Event Types

> Company Added Event

```json
{
  "_id": "579b695decfa11012711875d",
  "created": "2016-01-01T00:00:00.000Z",
  "eventType": "company-added",
  "data": {
    "summary": "Time Warner Cable was added to the Unbill system.",
    "company": "<company-object>"
  }
}
```

> Company Updated Event

```json
{
  "_id": "579b695decfa11012711875d",
  "created": "2016-01-01T00:00:00.000Z",
  "eventType": "company-updated",
  "data": {
    "summary": "Time Warner Cable was updated in the Unbill system.",
    "company": "<company-object>"
  }
}
```

> Bill Updated Event

```json
{
  "_id": "579b695decfa11012711875d",
  "created": "2016-01-01T00:00:00.000Z",
  "eventType": "bill-updated",
  "data": {
    "billId": "521b695dewfa11521711875d",
    "changes": {
      "balance": {
        "before": "25.21",
        "after": "52.11"
      },
      "dueDate": {
        "before": "2016-01-01T00:00:00.000Z",
        "after": "2016-02-01T00:00:00.000Z"
      }
    }
  }
}
```

> Payment Completed Event

```json
{
  "_id": "579b695decea110719b1874d",
  "created": "2016-04-20T16:51:12Z",
  "eventType": "payment-completed",
  "data": {
    "summary": "Payment made towards Time Warner Cable for $82.24",
    "billId": "512b695defwq11071f2g874d",
    "amount": {
      "total": "82.24",
      "details": {
        "surcharge": "1.50"
      }
    }
  }
}
```

> Payment Failed Event

```json
{
  "_id": "579b695decea110719b1874d",
  "created": "2016-04-20T16:51:12Z",
  "eventType": "payment-failed",
  "data": {
    "summary": "Payment failed towards Time Warner Cable for $82.24",
    "billId": "512b695defwq11071f2g874d",
    "reason": "Card *1523 was declined."
  }
}
```

Included in each webhook event is an `eventType`. Each type is documented below with a description of the type and a typical use case.

### company-added

A new company was requested and added to the Unbill system. 

### company-updated

An existing company's data was updated in the Unbill system.

### bill-updated

A bill's `balance`, `dueDate`, `lastPaidAmount`, or `lastPaidOn` data changed.

### payment-completed

A payment was successfully made towards a bill's outstanding balance.

### payment-failed

A payment failed when making a payment towards a bill's outstanding balance.